<div id="container-wide">
  <div
    *ngIf="doneCount() > 0"
    style="margin-left: 10px; ;margin-bottom: 30px;float:right;">
    <a
      class="btn"
      style="cursor:pointer"
      (click)="deleteDone()"
      [ngPlural]="doneCount()"
    >
      <ng-template ngPluralCase="1">Effacer le rappel terminé</ng-template>
      <ng-template ngPluralCase="other">Effacer les {{ doneCount() }} rappels terminés</ng-template>
    </a>
  </div>

  <div style="margin-bottom: 30px;float:right;">
    <a
      class="btn"
      (document:keydown.n)="gotoReminderAdd($event)"
      style="cursor:pointer"
      [queryParams]="{selectedRow: selectedIdx+1}"
      routerLink="/reminders/add">Ajouter un rappel</a>
  </div>

  <table>
    <thead>
    <tr>
      <th>Objet</th>
      <th>Du</th>
      <th>Fait ?</th>
      <th style="display: none">Links</th>
    </tr>
    </thead>

    <tbody>

    <tr
      (document:keydown.enter)="editSelectedReminder()"
      (document:keydown.space)="selectedIdx === idx && doneCbx.click()"
      (document:keydown.x)="selectedIdx === idx && doneCbx.click()"
      *ngFor="let r of reminders; let idx=index"
      [class.done]="r.done"
      [class.selected]="selectedIdx === idx"
      (click)="selectedChange.next(idx)"
    >
      <td>{{r.content}}</td>
      <td>{{r.due | date:'short'}}</td>
      <td>
        <label>
          <input type="checkbox" [(ngModel)]="r.done" #doneCbx>
        </label>
      </td>

    </tr>

    </tbody>
  </table>
</div>
