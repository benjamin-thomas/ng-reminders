<div id="container-wide">
  <div
    *ngIf="doneCount() > 0"
    style="margin-left: 10px;margin-bottom: 30px;float:right;">
    <a
      class="btn"
      style="cursor:pointer"
      data-cy="delete-all-done"
      (click)="deleteAllDone()"
      [ngPlural]="doneCount()"
    >
      <ng-template ngPluralCase="1">Effacer le rappel terminé</ng-template>
      <ng-template ngPluralCase="other">Effacer les {{ doneCount() }} rappels terminés</ng-template>
    </a>
  </div>

  <div style="margin-bottom: 30px;float:right;">
    <a
      class="btn"
      (document:keydown.n)="gotoReminderAdd($event)"
      style="cursor:pointer"
      data-cy="add-reminder"
      [queryParams]="{selectedRow: selectedIdx+1}"
      routerLink="/reminders/add">Ajouter un rappel</a>
  </div>

  <table>
    <thead>
    <tr>
      <th>Objet</th>
      <th>Du</th>
      <th>Fait ?</th>
      <th style="display: none">Links</th>
    </tr>
    </thead>

    <tbody>

    <tr
      *ngFor="let r of reminders; let idx=index"
      [class.done]="r.done"
      [class.selected]="selectedIdx === idx"
      (click)="selectedChange.next(idx)"
    >
      <td>{{r.content}}</td>
      <td
        [title]="r.due | date:'medium'"
        data-cy="due"
        [attr.data-cy-date]="r.due.toISOString()"
      >{{r.due | date:"E d MMM yy, H'h'"}}</td>
      <td>
        <label>
          <input type="checkbox"
                 data-cy="check-done"
                 [checked]="r.done"
                 (click)="toggleDone(r)">
        </label>
      </td>

    </tr>

    </tbody>
  </table>
</div>
